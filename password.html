<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windows 10 - Web Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', SegoeUI, "Helvetica Neue", Helvetica, Arial, sans-serif;
            user-select: none;
            -webkit-user-drag: none;
        }
        
        body {
            background: linear-gradient(135deg, #0067c0 0%, #005a9e 100%);
            height: 100vh;
            overflow: hidden;
            color: #fff;
        }
        
        /* Desktop */
        .desktop {
            height: calc(100vh - 48px);
            background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }
        
        /* Wallpaper Selection */
        .wallpaper-selector {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            display: none;
            z-index: 10000;
        }
        
        .wallpaper-selector.active {
            display: block;
        }
        
        .wallpaper-options {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .wallpaper-option {
            width: 80px;
            height: 50px;
            border-radius: 4px;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            border: 2px solid transparent;
        }
        
        .wallpaper-option.active {
            border-color: #0078d7;
        }
        
        /* Desktop Icons */
        .desktop-icons {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            position: absolute;
            top: 0;
            left: 0;
        }
        
        .desktop-icon {
            width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px 5px;
            border-radius: 5px;
            transition: all 0.2s;
            position: relative;
        }
        
        .desktop-icon:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .desktop-icon.selected {
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .desktop-icon i {
            font-size: 36px;
            margin-bottom: 8px;
            color: white;
            filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.5));
        }
        
        .desktop-icon span {
            font-size: 13px;
            color: white;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            text-align: center;
            word-break: break-word;
            max-width: 100%;
        }
        
        /* Context Menu */
        .context-menu {
            position: absolute;
            background: #f2f2f2;
            border-radius: 4px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            min-width: 200px;
            display: none;
            z-index: 10000;
        }
        
        .context-menu.active {
            display: block;
        }
        
        .context-menu-item {
            padding: 10px 15px;
            cursor: pointer;
            color: #171717;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.2s;
        }
        
        .context-menu-item:hover {
            background: #e5e5e5;
        }
        
        .context-menu-item i {
            width: 20px;
            color: #606060;
        }
        
        .context-menu-divider {
            height: 1px;
            background: #d5d5d5;
            margin: 5px 0;
        }
        
        /* Windows */
        .window {
            position: absolute;
            background: #fff;
            border-radius: 8px 8px 0 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            min-width: 400px;
            min-height: 300px;
            color: #000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            z-index: 100;
            resize: both;
            overflow: auto;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .window.active {
            display: flex;
        }
        
        .window.maximized {
            width: 100% !important;
            height: calc(100vh - 48px) !important;
            top: 0 !important;
            left: 0 !important;
            border-radius: 0;
            resize: none;
        }
        
        .window-header {
            background: linear-gradient(90deg, #171717 0%, #2d2d2d 100%);
            color: white;
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
            user-select: none;
        }
        
        .window-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 400;
            font-size: 14px;
        }
        
        .window-controls {
            display: flex;
            gap: 12px;
        }
        
        .window-control {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .window-control:hover {
            transform: scale(1.1);
        }
        
        .close {
            background: #ff5f57;
        }
        
        .minimize {
            background: #ffbd2e;
        }
        
        .maximize {
            background: #28ca42;
        }
        
        .window-content {
            flex: 1;
            overflow: auto;
            padding: 0;
            background: #fff;
        }
        
        /* Taskbar */
        .taskbar {
            height: 48px;
            background: rgba(23, 23, 23, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            padding: 0 10px;
            position: relative;
            z-index: 1000;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .start-button {
            display: flex;
            align-items: center;
            padding: 0 15px;
            height: 100%;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            transition: background 0.2s;
            gap: 8px;
            font-size: 14px;
        }
        
        .start-button:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .start-button i {
            font-size: 20px;
        }
        
        .taskbar-center {
            display: flex;
            align-items: center;
            flex: 1;
            margin: 0 20px;
            gap: 2px;
        }
        
        .taskbar-item {
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: white;
            position: relative;
            max-width: 200px;
        }
        
        .taskbar-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .taskbar-item.active {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .taskbar-item.active::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 3px;
            background: #0078d7;
            border-radius: 2px 2px 0 0;
        }
        
        .taskbar-item i {
            font-size: 16px;
        }
        
        .taskbar-right {
            display: flex;
            align-items: center;
            gap: 15px;
            color: white;
            font-size: 13px;
            padding-right: 10px;
        }
        
        .system-tray {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .tray-icon {
            cursor: pointer;
            opacity: 0.9;
            transition: opacity 0.2s;
        }
        
        .tray-icon:hover {
            opacity: 1;
        }
        
        .datetime {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background 0.2s;
        }
        
        .datetime:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .time {
            font-size: 14px;
            font-weight: 500;
        }
        
        .date {
            font-size: 11px;
            opacity: 0.8;
        }
        
        /* Start Menu */
        .start-menu {
            position: absolute;
            bottom: 48px;
            left: 0;
            width: 600px;
            height: 700px;
            background: rgba(242, 242, 242, 0.95);
            backdrop-filter: blur(20px);
            color: #000;
            box-shadow: 0 0 30px rgba(0,0,0,0.4);
            z-index: 1001;
            display: none;
            grid-template-columns: auto 1fr;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .start-menu.active {
            display: grid;
        }
        
        .start-left {
            width: 220px;
            background: rgba(23, 23, 23, 0.9);
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .user-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #0078d7 0%, #00bcf2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .user-info h3 {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 5px;
        }
        
        .user-info p {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .start-apps {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .start-app {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .start-app:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .start-app i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }
        
        .start-right {
            padding: 30px;
            background: rgba(242, 242, 242, 0.95);
        }
        
        .pinned-apps {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .pinned-app {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .pinned-app:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        .pinned-app i {
            font-size: 32px;
            margin-bottom: 10px;
            color: #0078d7;
        }
        
        .pinned-app span {
            font-size: 12px;
        }
        
        .recommended {
            margin-top: 30px;
        }
        
        .recommended h3 {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 15px;
            color: #606060;
        }
        
        .recommended-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .recommended-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .recommended-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }
        
        /* Window Content Styles */
        .window-body {
            padding: 20px;
        }
        
        .window-title-bar {
            font-size: 24px;
            margin-bottom: 20px;
            color: #0078d7;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .app-tile {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }
        
        .app-tile:hover {
            background: rgba(0, 120, 215, 0.1);
        }
        
        .app-tile i {
            font-size: 36px;
            margin-bottom: 10px;
            color: #0078d7;
        }
        
        .folder-contents {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        
        .folder-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .folder-item:hover {
            background: rgba(0, 120, 215, 0.1);
        }
        
        .folder-item i {
            font-size: 32px;
            margin-bottom: 8px;
            color: #0078d7;
        }
        
        .folder-item span {
            font-size: 12px;
            text-align: center;
        }
        
        /* File Explorer Sidebar */
        .explorer-sidebar {
            width: 220px;
            background: #f8f8f8;
            border-right: 1px solid #e5e5e5;
            padding: 20px 0;
        }
        
        .explorer-content {
            flex: 1;
            padding: 20px;
        }
        
        .explorer-container {
            display: flex;
            height: 100%;
        }
        
        .sidebar-section {
            margin-bottom: 25px;
        }
        
        .sidebar-section h3 {
            font-size: 12px;
            color: #666;
            padding: 5px 20px;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .sidebar-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 20px;
            cursor: pointer;
            transition: background 0.2s;
            color: #333;
            font-size: 14px;
        }
        
        .sidebar-item:hover {
            background: #e5e5e5;
        }
        
        .sidebar-item.active {
            background: #e5f3ff;
            color: #0078d7;
        }
        
        /* Notifications */
        .notification-center {
            position: absolute;
            bottom: 60px;
            right: 10px;
            width: 350px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none;
            flex-direction: column;
            z-index: 1002;
            color: #000;
            overflow: hidden;
        }
        
        .notification-center.active {
            display: flex;
        }
        
        .notification-header {
            padding: 15px;
            border-bottom: 1px solid #e5e5e5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .notification-header h3 {
            font-size: 16px;
            font-weight: 500;
        }
        
        .notifications-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .notification {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }
        
        .notification:hover {
            background: #f8f8f8;
        }
        
        .notification-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #0078d7;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }
        
        .notification-content h4 {
            font-size: 14px;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .notification-content p {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }
        
        .notification-time {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
        }
        
        /* Quick Settings */
        .quick-settings {
            position: absolute;
            bottom: 60px;
            right: 10px;
            width: 300px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none;
            flex-direction: column;
            z-index: 1002;
            color: #000;
            padding: 15px;
        }
        
        .quick-settings.active {
            display: flex;
        }
        
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        
        .setting-tile {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .setting-tile:hover {
            background: #f0f0f0;
        }
        
        .setting-tile i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #0078d7;
        }
        
        .setting-tile span {
            font-size: 11px;
        }
        
        .volume-slider {
            width: 100%;
            margin: 10px 0;
        }
        
        /* Action Center */
        .action-center {
            position: absolute;
            bottom: 48px;
            right: 0;
            width: 400px;
            height: 600px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            display: none;
            flex-direction: column;
            z-index: 1003;
            color: #000;
            box-shadow: -5px 0 30px rgba(0,0,0,0.3);
        }
        
        .action-center.active {
            display: flex;
        }
        
        .action-center-header {
            padding: 20px;
            border-bottom: 1px solid #e5e5e5;
        }
        
        .action-center-content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        /* Desktop Selection */
        .selection-box {
            position: absolute;
            border: 2px dashed #0078d7;
            background: rgba(0, 120, 215, 0.1);
            display: none;
            z-index: 5000;
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body>
    <!-- Desktop -->
    <div class="desktop" id="desktop">
        <!-- Wallpaper Selector -->
        <div class="wallpaper-selector" id="wallpaperSelector">
            <h3>Choose Wallpaper</h3>
            <div class="wallpaper-options">
                <div class="wallpaper-option active" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');" onclick="changeWallpaper(0)"></div>
                <div class="wallpaper-option" style="background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');" onclick="changeWallpaper(1)"></div>
                <div class="wallpaper-option" style="background-image: url('https://images.unsplash.com/photo-1493246507139-91e8fad9978e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');" onclick="changeWallpaper(2)"></div>
                <div class="wallpaper-option" style="background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');" onclick="changeWallpaper(3)"></div>
            </div>
        </div>
        
        <!-- Desktop Icons -->
        <div class="desktop-icons" id="desktopIcons">
            <div class="desktop-icon" data-app="fileExplorer" ondblclick="openApp('fileExplorer')" onclick="selectIcon(this)">
                <i class="fas fa-folder"></i>
                <span>File Explorer</span>
            </div>
            <div class="desktop-icon" data-app="edge" ondblclick="openApp('edge')" onclick="selectIcon(this)">
                <i class="fab fa-edge"></i>
                <span>Microsoft Edge</span>
            </div>
            <div class="desktop-icon" data-app="store" ondblclick="openApp('store')" onclick="selectIcon(this)">
                <i class="fas fa-store"></i>
                <span>Microsoft Store</span>
            </div>
            <div class="desktop-icon" data-app="settings" ondblclick="openApp('settings')" onclick="selectIcon(this)">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </div>
            <div class="desktop-icon" data-app="photos" ondblclick="openApp('photos')" onclick="selectIcon(this)">
                <i class="fas fa-images"></i>
                <span>Photos</span>
            </div>
            <div class="desktop-icon" data-app="calculator" ondblclick="openApp('calculator')" onclick="selectIcon(this)">
                <i class="fas fa-calculator"></i>
                <span>Calculator</span>
            </div>
            <div class="desktop-icon" data-app="notepad" ondblclick="openApp('notepad')" onclick="selectIcon(this)">
                <i class="fas fa-sticky-note"></i>
                <span>Notepad</span>
            </div>
            <div class="desktop-icon" data-app="terminal" ondblclick="openApp('terminal')" onclick="selectIcon(this)">
                <i class="fas fa-terminal"></i>
                <span>Terminal</span>
            </div>
        </div>
        
        <!-- Context Menu -->
        <div class="context-menu" id="contextMenu">
            <div class="context-menu-item" onclick="openSelectedApp()">
                <i class="fas fa-play"></i>
                <span>Open</span>
            </div>
            <div class="context-menu-item" onclick="renameSelectedIcon()">
                <i class="fas fa-edit"></i>
                <span>Rename</span>
            </div>
            <div class="context-menu-divider"></div>
            <div class="context-menu-item" onclick="showWallpaperSelector()">
                <i class="fas fa-image"></i>
                <span>Personalize</span>
            </div>
            <div class="context-menu-item" onclick="openApp('settings')">
                <i class="fas fa-cog"></i>
                <span>Display Settings</span>
            </div>
            <div class="context-menu-divider"></div>
            <div class="context-menu-item" onclick="refreshDesktop()">
                <i class="fas fa-redo"></i>
                <span>Refresh</span>
            </div>
        </div>
        
        <!-- Selection Box -->
        <div class="selection-box" id="selectionBox"></div>
        
        <!-- Start Menu -->
        <div class="start-menu" id="startMenu">
            <div class="start-left">
                <div class="user-section">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <h3>Windows User</h3>
                        <p>Administrator</p>
                    </div>
                </div>
                <div class="start-apps">
                    <div class="start-app" onclick="openApp('fileExplorer'); toggleStartMenu()">
                        <i class="fas fa-folder"></i>
                        <span>File Explorer</span>
                    </div>
                    <div class="start-app" onclick="openApp('store'); toggleStartMenu()">
                        <i class="fas fa-store"></i>
                        <span>Microsoft Store</span>
                    </div>
                    <div class="start-app" onclick="openApp('photos'); toggleStartMenu()">
                        <i class="fas fa-images"></i>
                        <span>Photos</span>
                    </div>
                    <div class="start-app" onclick="openApp('settings'); toggleStartMenu()">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </div>
                    <div class="start-app" onclick="openApp('edge'); toggleStartMenu()">
                        <i class="fab fa-edge"></i>
                        <span>Microsoft Edge</span>
                    </div>
                    <div class="start-app" onclick="openApp('calculator'); toggleStartMenu()">
                        <i class="fas fa-calculator"></i>
                        <span>Calculator</span>
                    </div>
                </div>
            </div>
            <div class="start-right">
                <div class="pinned-apps">
                    <div class="pinned-app" onclick="openApp('word'); toggleStartMenu()">
                        <i class="fas fa-file-word"></i>
                        <span>Word</span>
                    </div>
                    <div class="pinned-app" onclick="openApp('excel'); toggleStartMenu()">
                        <i class="fas fa-file-excel"></i>
                        <span>Excel</span>
                    </div>
                    <div class="pinned-app" onclick="openApp('powerpoint'); toggleStartMenu()">
                        <i class="fas fa-file-powerpoint"></i>
                        <span>PowerPoint</span>
                    </div>
                    <div class="pinned-app" onclick="openApp('mail'); toggleStartMenu()">
                        <i class="fas fa-envelope"></i>
                        <span>Mail</span>
                    </div>
                    <div class="pinned-app" onclick="openApp('calendar'); toggleStartMenu()">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Calendar</span>
                    </div>
                    <div class="pinned-app" onclick="openApp('weather'); toggleStartMenu()">
                        <i class="fas fa-cloud-sun"></i>
                        <span>Weather</span>
                    </div>
                </div>
                <div class="recommended">
                    <h3>Recommended</h3>
                    <div class="recommended-items">
                        <div class="recommended-item" onclick="openApp('photos'); toggleStartMenu()">
                            <i class="fas fa-image"></i>
                            <span>Photo_2023.jpg</span>
                        </div>
                        <div class="recommended-item" onclick="openApp('notepad'); toggleStartMenu()">
                            <i class="fas fa-file-alt"></i>
                            <span>notes.txt</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Notification Center -->
        <div class="notification-center" id="notificationCenter">
            <div class="notification-header">
                <h3>Notifications</h3>
                <i class="fas fa-cog" onclick="openApp('settings')"></i>
            </div>
            <div class="notifications-list">
                <div class="notification">
                    <div class="notification-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="notification-content">
                        <h4>Windows Security</h4>
                        <p>Your device is protected and up to date</p>
                        <div class="notification-time">Just now</div>
                    </div>
                </div>
                <div class="notification">
                    <div class="notification-icon">
                        <i class="fab fa-edge"></i>
                    </div>
                    <div class="notification-content">
                        <h4>Microsoft Edge</h4>
                        <p>New update available for your browser</p>
                        <div class="notification-time">10 min ago</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Settings -->
        <div class="quick-settings" id="quickSettings">
            <div class="settings-grid">
                <div class="setting-tile" onclick="toggleWiFi()">
                    <i class="fas fa-wifi" id="wifiIcon"></i>
                    <span>Wi-Fi</span>
                </div>
                <div class="setting-tile" onclick="toggleBluetooth()">
                    <i class="fas fa-bluetooth" id="bluetoothIcon"></i>
                    <span>Bluetooth</span>
                </div>
                <div class="setting-tile" onclick="toggleAirplaneMode()">
                    <i class="fas fa-plane" id="airplaneIcon"></i>
                    <span>Airplane</span>
                </div>
                <div class="setting-tile" onclick="toggleDarkMode()">
                    <i class="fas fa-moon" id="darkModeIcon"></i>
                    <span>Dark Mode</span>
                </div>
            </div>
            <div class="volume-slider">
                <span>Volume: <span id="volumeValue">75</span>%</span>
                <input type="range" min="0" max="100" value="75" class="volume-slider" id="volumeSlider" oninput="updateVolume(this.value)">
            </div>
        </div>
        
        <!-- Action Center -->
        <div class="action-center" id="actionCenter">
            <div class="action-center-header">
                <h3>Action Center</h3>
            </div>
            <div class="action-center-content">
                <div class="quick-settings" style="position: relative; box-shadow: none;">
                    <div class="settings-grid">
                        <div class="setting-tile" onclick="toggleWiFi()">
                            <i class="fas fa-wifi" id="wifiIcon2"></i>
                            <span>Wi-Fi</span>
                        </div>
                        <div class="setting-tile" onclick="toggleBluetooth()">
                            <i class="fas fa-bluetooth" id="bluetoothIcon2"></i>
                            <span>Bluetooth</span>
                        </div>
                        <div class="setting-tile" onclick="toggleAirplaneMode()">
                            <i class="fas fa-plane" id="airplaneIcon2"></i>
                            <span>Airplane</span>
                        </div>
                        <div class="setting-tile" onclick="toggleDarkMode()">
                            <i class="fas fa-moon" id="darkModeIcon2"></i>
                            <span>Dark Mode</span>
                        </div>
                    </div>
                </div>
                <div class="notification-center" style="position: relative; box-shadow: none;">
                    <div class="notifications-list">
                        <div class="notification">
                            <div class="notification-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="notification-content">
                                <h4>Windows Security</h4>
                                <p>Your device is protected and up to date</p>
                                <div class="notification-time">Just now</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Windows will be dynamically generated -->
    </div>
    
    <!-- Taskbar -->
    <div class="taskbar">
        <button class="start-button" onclick="toggleStartMenu()">
            <i class="fab fa-windows"></i>
        </button>
        
        <div class="taskbar-center" id="taskbarCenter">
            <!-- Taskbar items will be dynamically added -->
        </div>
        
        <div class="taskbar-right">
            <div class="system-tray">
                <i class="fas fa-chevron-up tray-icon" onclick="toggleQuickSettings()"></i>
                <i class="fas fa-comment-alt tray-icon" onclick="toggleNotificationCenter()"></i>
                <i class="fas fa-volume-up tray-icon" onclick="toggleVolumeControl()"></i>
                <div class="datetime" onclick="toggleActionCenter()">
                    <div class="time" id="currentTime">10:00 AM</div>
                    <div class="date" id="currentDate">Mon, Jan 16</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Windows Templates -->
    <template id="windowTemplate">
        <div class="window" id="{id}Window">
            <div class="window-header">
                <div class="window-title">
                    <i class="{icon}"></i>
                    <span>{title}</span>
                </div>
                <div class="window-controls">
                    <div class="window-control minimize" onclick="minimizeWindow('{id}')"></div>
                    <div class="window-control maximize" onclick="maximizeWindow('{id}')"></div>
                    <div class="window-control close" onclick="closeWindow('{id}')"></div>
                </div>
            </div>
            <div class="window-content">
                {content}
            </div>
        </div>
    </template>

    <!-- JavaScript -->
    <script>
        // Global State
        let windows = {};
        let activeWindowId = null;
        let zIndex = 100;
        let selectedIcon = null;
        let wifiOn = true;
        let bluetoothOn = true;
        let airplaneModeOn = false;
        let darkModeOn = false;
        
        // App definitions with content
        const apps = {
            fileExplorer: {
                title: "File Explorer",
                icon: "fas fa-folder",
                content: `
                    <div class="explorer-container">
                        <div class="explorer-sidebar">
                            <div class="sidebar-section">
                                <h3>Quick Access</h3>
                                <div class="sidebar-item active">
                                    <i class="fas fa-home"></i>
                                    <span>Home</span>
                                </div>
                                <div class="sidebar-item">
                                    <i class="fas fa-desktop"></i>
                                    <span>Desktop</span>
                                </div>
                                <div class="sidebar-item">
                                    <i class="fas fa-download"></i>
                                    <span>Downloads</span>
                                </div>
                                <div class="sidebar-item">
                                    <i class="fas fa-file"></i>
                                    <span>Documents</span>
                                </div>
                            </div>
                            <div class="sidebar-section">
                                <h3>This PC</h3>
                                <div class="sidebar-item">
                                    <i class="fas fa-hdd"></i>
                                    <span>Local Disk (C:)</span>
                                </div>
                                <div class="sidebar-item">
                                    <i class="fas fa-hdd"></i>
                                    <span>Data (D:)</span>
                                </div>
                                <div class="sidebar-item">
                                    <i class="fas fa-network-wired"></i>
                                    <span>Network</span>
                                </div>
                            </div>
                        </div>
                        <div class="explorer-content">
                            <div class="window-title-bar">
                                <i class="fas fa-folder"></i>
                                <span>This PC</span>
                            </div>
                            <div class="folder-contents">
                                <div class="folder-item" ondblclick="openApp('documents')">
                                    <i class="fas fa-file"></i>
                                    <span>Documents</span>
                                </div>
                                <div class="folder-item" ondblclick="openApp('pictures')">
                                    <i class="fas fa-image"></i>
                                    <span>Pictures</span>
                                </div>
                                <div class="folder-item" ondblclick="openApp('music')">
                                    <i class="fas fa-music"></i>
                                    <span>Music</span>
                                </div>
                                <div class="folder-item" ondblclick="openApp('videos')">
                                    <i class="fas fa-video"></i>
                                    <span>Videos</span>
                                </div>
                                <div class="folder-item">
                                    <i class="fas fa-hdd"></i>
                                    <span>Local Disk (C:)</span>
                                </div>
                                <div class="folder-item">
                                    <i class="fas fa-network-wired"></i>
                                    <span>Network</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },
            edge: {
                title: "Microsoft Edge",
                icon: "fab fa-edge",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fab fa-edge"></i>
                            <span>Microsoft Edge</span>
                        </div>
                        <p>Welcome to Microsoft Edge - The fast, secure browser that helps you protect your data.</p>
                        <div style="margin: 20px 0; padding: 20px; background: #f8f8f8; border-radius: 8px;">
                            <h3>Windows 10 Web Simulation</h3>
                            <p>This is a fully functional Windows 10 desktop simulation built with HTML, CSS, and JavaScript.</p>
                            <p>Try opening different apps from the Start Menu or desktop icons!</p>
                        </div>
                        <div class="app-grid">
                            <div class="app-tile" onclick="openApp('news')">
                                <i class="fas fa-newspaper"></i>
                                <span>News</span>
                            </div>
                            <div class="app-tile" onclick="openApp('weather')">
                                <i class="fas fa-cloud-sun"></i>
                                <span>Weather</span>
                            </div>
                            <div class="app-tile" onclick="openApp('mail')">
                                <i class="fas fa-envelope"></i>
                                <span>Mail</span>
                            </div>
                        </div>
                    </div>
                `
            },
            settings: {
                title: "Settings",
                icon: "fas fa-cog",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </div>
                        <div class="app-grid">
                            <div class="app-tile" onclick="showWallpaperSelector()">
                                <i class="fas fa-image"></i>
                                <span>Personalization</span>
                            </div>
                            <div class="app-tile" onclick="openApp('networkSettings')">
                                <i class="fas fa-wifi"></i>
                                <span>Network & Internet</span>
                            </div>
                            <div class="app-tile" onclick="openApp('systemSettings')">
                                <i class="fas fa-laptop"></i>
                                <span>System</span>
                            </div>
                            <div class="app-tile" onclick="openApp('deviceSettings')">
                                <i class="fas fa-tablet-alt"></i>
                                <span>Devices</span>
                            </div>
                            <div class="app-tile" onclick="toggleDarkMode()">
                                <i class="fas fa-moon"></i>
                                <span>Dark Mode</span>
                            </div>
                            <div class="app-tile" onclick="openApp('updateSettings')">
                                <i class="fas fa-shield-alt"></i>
                                <span>Update & Security</span>
                            </div>
                        </div>
                    </div>
                `
            },
            calculator: {
                title: "Calculator",
                icon: "fas fa-calculator",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fas fa-calculator"></i>
                            <span>Calculator</span>
                        </div>
                        <div style="max-width: 300px; margin: 0 auto;">
                            <div style="background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: right; font-size: 24px; font-family: monospace;" id="calculatorDisplay">0</div>
                            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
                                <button style="padding: 15px; font-size: 18px; border: none; background: #e5e5e5; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('C')">C</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #e5e5e5; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('±')">±</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #e5e5e5; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('%')">%</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #ff9500; color: white; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('/')">÷</button>
                                
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('7')">7</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('8')">8</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('9')">9</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #ff9500; color: white; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('*')">×</button>
                                
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('4')">4</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('5')">5</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('6')">6</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #ff9500; color: white; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('-')">-</button>
                                
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('1')">1</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('2')">2</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('3')">3</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #ff9500; color: white; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('+')">+</button>
                                
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer; grid-column: span 2;" onclick="calculatorInput('0')">0</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #f8f8f8; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('.')">.</button>
                                <button style="padding: 15px; font-size: 18px; border: none; background: #ff9500; color: white; border-radius: 5px; cursor: pointer;" onclick="calculatorInput('=')">=</button>
                            </div>
                        </div>
                    </div>
                `
            },
            notepad: {
                title: "Notepad",
                icon: "fas fa-sticky-note",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fas fa-sticky-note"></i>
                            <span>Notepad</span>
                        </div>
                        <textarea style="width: 100%; height: calc(100% - 60px); border: none; padding: 10px; font-family: monospace; font-size: 14px; resize: none;" placeholder="Start typing...">Welcome to Windows 10 Web Edition!

This is a fully functional simulation of Windows 10.

You can:
- Open applications from Start Menu
- Use the taskbar to switch between apps
- Personalize your desktop
- Use system features like notifications

Try opening different apps to explore the system!</textarea>
                    </div>
                `
            },
            store: {
                title: "Microsoft Store",
                icon: "fas fa-store",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fas fa-store"></i>
                            <span>Microsoft Store</span>
                        </div>
                        <p>Browse and install apps from the Microsoft Store.</p>
                        <div class="app-grid">
                            <div class="app-tile">
                                <i class="fab fa-spotify"></i>
                                <span>Spotify</span>
                            </div>
                            <div class="app-tile">
                                <i class="fab fa-netflix"></i>
                                <span>Netflix</span>
                            </div>
                            <div class="app-tile">
                                <i class="fab fa-discord"></i>
                                <span>Discord</span>
                            </div>
                            <div class="app-tile">
                                <i class="fab fa-slack"></i>
                                <span>Slack</span>
                            </div>
                        </div>
                    </div>
                `
            },
            photos: {
                title: "Photos",
                icon: "fas fa-images",
                content: `
                    <div class="window-body">
                        <div class="window-title-bar">
                            <i class="fas fa-images"></i>
                            <span>Photos</span>
                        </div>
                        <p>Your photo collection</p>
                        <div class="app-grid">
                            <div class="app-tile">
                                <i class="fas fa-image"></i>
                                <span>Vacation 2023</span>
                            </div>
                            <div class="app-tile">
                                <i class="fas fa-image"></i>
                                <span>Family Photos</span>
                            </div>
                            <div class="app-tile">
                                <i class="fas fa-image"></i>
                                <span>Screenshots</span>
                            </div>
                        </div>
                    </div>
                `
            }
        };
        
        // Initialize the system
        document.addEventListener('DOMContentLoaded', function() {
            // Set current time
            updateDateTime();
            setInterval(updateDateTime, 60000);
            
            // Add taskbar items for default apps
            addTaskbarItem('fileExplorer', 'fas fa-folder');
            addTaskbarItem('edge', 'fab fa-edge');
            
            // Set up desktop context menu
            document.getElementById('desktop').addEventListener('contextmenu', function(e) {
                e.preventDefault();
                showContextMenu(e.clientX, e.clientY);
            });
            
            // Close context menu on click elsewhere
            document.addEventListener('click', function() {
                hideContextMenu();
                document.querySelectorAll('.desktop-icon').forEach(icon => {
                    icon.classList.remove('selected');
                });
                selectedIcon = null;
            });
            
            // Initialize calculator
            initCalculator();
            
            // Make windows draggable
            initWindowDragging();
        });
        
        // Window Management
        function openApp(appId) {
            // Close start menu if open
            document.getElementById('startMenu').classList.remove('active');
            
            // If window already exists, bring it to front
            if (windows[appId]) {
                bringWindowToFront(appId);
                return;
            }
            
            // Create new window
            const app = apps[appId] || {
                title: appId,
                icon: "fas fa-window-maximize",
                content: `<div class="window-body"><h3>${appId}</h3><p>This app is under construction.</p></div>`
            };
            
            const template = document.getElementById('windowTemplate').innerHTML;
            const windowHtml = template
                .replace(/{id}/g, appId)
                .replace(/{title}/g, app.title)
                .replace(/{icon}/g, app.icon)
                .replace(/{content}/g, app.content);
            
            const windowElement = document.createElement('div');
            windowElement.innerHTML = windowHtml;
            const windowDiv = windowElement.firstElementChild;
            
            // Position window
            windowDiv.style.top = `${Math.random() * 100 + 50}px`;
            windowDiv.style.left = `${Math.random() * 200 + 50}px`;
            
            document.querySelector('.desktop').appendChild(windowDiv);
            
            // Store window reference
            windows[appId] = {
                element: windowDiv,
                id: appId,
                minimized: false
            };
            
            // Make draggable
            makeDraggable(windowDiv, appId);
            
            // Bring to front
            bringWindowToFront(appId);
            
            // Add to taskbar
            addTaskbarItem(appId, app.icon);
            
            // Update taskbar state
            updateTaskbarItem(appId, true);
        }
        
        function bringWindowToFront(appId) {
            if (windows[appId]) {
                windows[appId].element.style.zIndex = ++zIndex;
                windows[appId].element.classList.add('active');
                activeWindowId = appId;
                
                // Unminimize if needed
                if (windows[appId].minimized) {
                    windows[appId].element.style.display = 'flex';
                    windows[appId].minimized = false;
                }
                
                // Update taskbar
                updateTaskbarItem(appId, true);
            }
        }
        
        function closeWindow(appId) {
            if (windows[appId]) {
                windows[appId].element.remove();
                delete windows[appId];
                
                // Update taskbar
                updateTaskbarItem(appId, false);
                
                // Update active window
                if (activeWindowId === appId) {
                    activeWindowId = null;
                }
            }
        }
        
        function minimizeWindow(appId) {
            if (windows[appId]) {
                windows[appId].element.style.display = 'none';
                windows[appId].minimized = true;
                
                // Update taskbar
                updateTaskbarItem(appId, false);
            }
        }
        
        function maximizeWindow(appId) {
            if (windows[appId]) {
                const windowElement = windows[appId].element;
                windowElement.classList.toggle('maximized');
                
                // Update maximize button
                const maximizeBtn = windowElement.querySelector('.maximize');
                if (windowElement.classList.contains('maximized')) {
                    maximizeBtn.style.backgroundColor = '#28ca42';
                } else {
                    maximizeBtn.style.backgroundColor = '#28ca42';
                }
            }
        }
        
        // Taskbar Management
        function addTaskbarItem(appId, iconClass) {
            // Check if already exists
            if (document.getElementById(`taskbar-${appId}`)) return;
            
            const app = apps[appId] || { title: appId };
            
            const taskbarItem = document.createElement('div');
            taskbarItem.className = 'taskbar-item';
            taskbarItem.id = `taskbar-${appId}`;
            taskbarItem.innerHTML = `<i class="${iconClass}"></i><span>${app.title}</span>`;
            taskbarItem.onclick = function() {
                if (windows[appId] && !windows[appId].minimized) {
                    minimizeWindow(appId);
                } else {
                    openApp(appId);
                }
            };
            
            document.getElementById('taskbarCenter').appendChild(taskbarItem);
        }
        
        function updateTaskbarItem(appId, active) {
            const taskbarItem = document.getElementById(`taskbar-${appId}`);
            if (taskbarItem) {
                if (active) {
                    taskbarItem.classList.add('active');
                    // Remove active from others
                    document.querySelectorAll('.taskbar-item').forEach(item => {
                        if (item.id !== `taskbar-${appId}`) {
                            item.classList.remove('active');
                        }
                    });
                } else {
                    taskbarItem.classList.remove('active');
                }
            }
        }
        
        // Start Menu
        function toggleStartMenu() {
            const startMenu = document.getElementById('startMenu');
            startMenu.classList.toggle('active');
            
            // Close other popups
            document.getElementById('notificationCenter').classList.remove('active');
            document.getElementById('quickSettings').classList.remove('active');
            document.getElementById('actionCenter').classList.remove('active');
        }
        
        // Context Menu
        function showContextMenu(x, y) {
            const contextMenu = document.getElementById('contextMenu');
            contextMenu.style.left = `${x}px`;
            contextMenu.style.top = `${y}px`;
            contextMenu.classList.add('active');
        }
        
        function hideContextMenu() {
            document.getElementById('contextMenu').classList.remove('active');
        }
        
        function selectIcon(iconElement) {
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.classList.remove('selected');
            });
            iconElement.classList.add('selected');
            selectedIcon = iconElement;
        }
        
        function openSelectedApp() {
            if (selectedIcon) {
                const appId = selectedIcon.getAttribute('data-app');
                openApp(appId);
                hideContextMenu();
            }
        }
        
        function renameSelectedIcon() {
            if (selectedIcon) {
                const span = selectedIcon.querySelector('span');
                const newName = prompt('Enter new name:', span.textContent);
                if (newName) {
                    span.textContent = newName;
                }
                hideContextMenu();
            }
        }
        
        // Desktop Personalization
        function showWallpaperSelector() {
            const selector = document.getElementById('wallpaperSelector');
            selector.classList.toggle('active');
            hideContextMenu();
        }
        
        function changeWallpaper(index) {
            const wallpapers = [
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
                'https://images.unsplash.com/photo-1493246507139-91e8fad9978e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
                'https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80',
                'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80'
            ];
            
            document.querySelector('.desktop').style.backgroundImage = `url('${wallpapers[index]}')`;
            
            // Update active wallpaper
            document.querySelectorAll('.wallpaper-option').forEach((opt, i) => {
                if (i === index) {
                    opt.classList.add('active');
                } else {
                    opt.classList.remove('active');
                }
            });
        }
        
        function refreshDesktop() {
            // In a real system, this would refresh desktop icons
            alert('Desktop refreshed');
            hideContextMenu();
        }
        
        // System Tray Functions
        function toggleNotificationCenter() {
            const nc = document.getElementById('notificationCenter');
            nc.classList.toggle('active');
            
            // Close other popups
            document.getElementById('quickSettings').classList.remove('active');
            document.getElementById('actionCenter').classList.remove('active');
            document.getElementById('startMenu').classList.remove('active');
        }
        
        function toggleQuickSettings() {
            const qs = document.getElementById('quickSettings');
            qs.classList.toggle('active');
            
            // Close other popups
            document.getElementById('notificationCenter').classList.remove('active');
            document.getElementById('actionCenter').classList.remove('active');
            document.getElementById('startMenu').classList.remove('active');
        }
        
        function toggleActionCenter() {
            const ac = document.getElementById('actionCenter');
            ac.classList.toggle('active');
            
            // Close other popups
            document.getElementById('notificationCenter').classList.remove('active');
            document.getElementById('quickSettings').classList.remove('active');
            document.getElementById('startMenu').classList.remove('active');
        }
        
        function toggleVolumeControl() {
            // For simplicity, just show quick settings
            toggleQuickSettings();
        }
        
        // System Settings
        function toggleWiFi() {
            wifiOn = !wifiOn;
            const icon = document.getElementById('wifiIcon');
            const icon2 = document.getElementById('wifiIcon2');
            if (wifiOn) {
                icon.className = 'fas fa-wifi';
                icon2.className = 'fas fa-wifi';
            } else {
                icon.className = 'fas fa-wifi-slash';
                icon2.className = 'fas fa-wifi-slash';
            }
        }
        
        function toggleBluetooth() {
            bluetoothOn = !bluetoothOn;
            const icon = document.getElementById('bluetoothIcon');
            const icon2 = document.getElementById('bluetoothIcon2');
            if (bluetoothOn) {
                icon.className = 'fas fa-bluetooth';
                icon2.className = 'fas fa-bluetooth';
            } else {
                icon.className = 'fas fa-bluetooth-slash';
                icon2.className = 'fas fa-bluetooth-slash';
            }
        }
        
        function toggleAirplaneMode() {
            airplaneModeOn = !airplaneModeOn;
            const icon = document.getElementById('airplaneIcon');
            const icon2 = document.getElementById('airplaneIcon2');
            if (airplaneModeOn) {
                icon.style.color = '#0078d7';
                icon2.style.color = '#0078d7';
                // Turn off WiFi and Bluetooth
                if (wifiOn) toggleWiFi();
                if (bluetoothOn) toggleBluetooth();
            } else {
                icon.style.color = '';
                icon2.style.color = '';
            }
        }
        
        function toggleDarkMode() {
            darkModeOn = !darkModeOn;
            const icon = document.getElementById('darkModeIcon');
            const icon2 = document.getElementById('darkModeIcon2');
            
            if (darkModeOn) {
                // In a real implementation, this would change the theme
                icon.style.color = '#0078d7';
                icon2.style.color = '#0078d7';
                alert('Dark mode enabled! (Simulation only)');
            } else {
                icon.style.color = '';
                icon2.style.color = '';
                alert('Dark mode disabled! (Simulation only)');
            }
        }
        
        function updateVolume(value) {
            document.getElementById('volumeValue').textContent = value;
        }
        
        // Calculator
        let calculatorValue = '0';
        let waitingForOperand = false;
        let operator = null;
        let previousValue = null;
        
        function initCalculator() {
            calculatorValue = '0';
            updateCalculatorDisplay();
        }
        
        function calculatorInput(input) {
            if (input >= '0' && input <= '9') {
                inputDigit(input);
            } else if (input === '.') {
                inputDecimal();
            } else if (input === 'C') {
                clearCalculator();
            } else if (input === '±') {
                toggleSign();
            } else if (input === '%') {
                inputPercent();
            } else if (['+', '-', '*', '/'].includes(input)) {
                inputOperator(input);
            } else if (input === '=') {
                calculateResult();
            }
            
            updateCalculatorDisplay();
        }
        
        function inputDigit(digit) {
            if (waitingForOperand) {
                calculatorValue = digit;
                waitingForOperand = false;
            } else {
                calculatorValue = calculatorValue === '0' ? digit : calculatorValue + digit;
            }
        }
        
        function inputDecimal() {
            if (waitingForOperand) {
                calculatorValue = '0.';
                waitingForOperand = false;
            } else if (calculatorValue.indexOf('.') === -1) {
                calculatorValue += '.';
            }
        }
        
        function clearCalculator() {
            calculatorValue = '0';
            waitingForOperand = false;
            operator = null;
            previousValue = null;
        }
        
        function toggleSign() {
            calculatorValue = String(-parseFloat(calculatorValue));
        }
        
        function inputPercent() {
            calculatorValue = String(parseFloat(calculatorValue) / 100);
        }
        
        function inputOperator(nextOperator) {
            const inputValue = parseFloat(calculatorValue);
            
            if (previousValue === null) {
                previousValue = inputValue;
            } else if (operator) {
                const currentValue = previousValue || 0;
                const newValue = performCalculation(operator, currentValue, inputValue);
                
                calculatorValue = String(newValue);
                previousValue = newValue;
            }
            
            waitingForOperand = true;
            operator = nextOperator;
        }
        
        function calculateResult() {
            const inputValue = parseFloat(calculatorValue);
            
            if (previousValue !== null && operator) {
                const currentValue = previousValue || 0;
                const newValue = performCalculation(operator, currentValue, inputValue);
                
                calculatorValue = String(newValue);
                previousValue = null;
                operator = null;
                waitingForOperand = true;
            }
        }
        
        function performCalculation(op, a, b) {
            switch(op) {
                case '+': return a + b;
                case '-': return a - b;
                case '*': return a * b;
                case '/': return a / b;
                default: return b;
            }
        }
        
        function updateCalculatorDisplay() {
            document.getElementById('calculatorDisplay').textContent = calculatorValue;
        }
        
        // Window Dragging
        function initWindowDragging() {
            // Will be implemented when windows are created
        }
        
        function makeDraggable(element, appId) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            const header = element.querySelector('.window-header');
            
            header.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                if (element.classList.contains('maximized')) return;
                
                e = e || window.event;
                e.preventDefault();
                
                // Get mouse position
                pos3 = e.clientX;
                pos4 = e.clientY;
                
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
                
                // Bring to front
                bringWindowToFront(appId);
            }
            
            function elementDrag(e) {
                e = e || window.event;
                e.preventDefault();
                
                // Calculate new position
                pos1 = pos3 - e.clientX;
                pos2 = pos4 - e.clientY;
                pos3 = e.clientX;
                pos4 = e.clientY;
                
                // Set new position
                element.style.top = (element.offsetTop - pos2) + "px";
                element.style.left = (element.offsetLeft - pos1) + "px";
            }
            
            function closeDragElement() {
                // Stop dragging
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }
        
        // Time and Date
        function updateDateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const dateString = now.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric'});
            
            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDate').textContent = dateString;
        }
        
        // Initialize some windows
        setTimeout(() => {
            openApp('fileExplorer');
        }, 500);
        
        setTimeout(() => {
            openApp('notepad');
        }, 1000);
    </script>
</body>
</html>